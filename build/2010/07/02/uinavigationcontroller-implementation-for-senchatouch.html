<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge;chrome=1">
<!-- Google Setup --><meta content="VbyiHsqFIT6NSIBRNw/TAnm+9zy0TAmFRiC68lYCoSw=" name="verify-v1">
<!-- OpenID Setup --><link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://tdreyno.myopenid.com/" rel="openid.delegate">
<link href="http://tdreyno.myopenid.com" rel="openid2.local_id">
<link href="http://www.myopenid.com/server" rel="openid2.provider">
<meta content="http://www.myopenid.com/xrds?username=tdreyno.myopenid.com" http-equiv="X-XRDS-Location">
<title>UINavigationController implementation for SenchaTouch « Thomas Reynolds</title>
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]--><!-- Stylesheet --><link rel="stylesheet" type="text/css" href="/stylesheets/style.css?v2">
<!-- RSS --><link href="http://feeds2.feedburner.com/awf-allposts" rel="alternate" title="Award Winning Fjords" type="application/rss+xml">
<script src="/javascripts/modernizr.custom.js" type="text/javascript"></script><script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script><!--script type="text/javascript" src="/javascripts/jqwidont.js"></script-->
</head>
<body class="post">
    <header><div class="center">
        <h1><a href="/">Award-Winning Fjords</a></h1>
        <h2 class="byline author vcard">
          Words &amp; Wisdom by 
          <span class="fn">Thomas Reynolds</span>
        </h2>

        <p id="social">
          <a href="http://github.com/tdreyno">GitHub</a>, <a href="http://twitter.com/tdreyno">Twitter</a> &amp; <a href="http://portfolio.awardwinningfjords.com">Portfolio</a><br><a id="contact" href="mailto:me@tdreyno.com">Contact me</a>
        </p>
      </div>
    </header><div id="frame">
      <div id="post">
        
          
          <article class="hentry"><h1 class="entry-title">
    UINavigationController implementation for SenchaTouch 
    <time class="updated" pubdate>Jul  2 2010</time>
</h1>

  <!--div id='rdbWrapper' style="float: right; display: inline; width: 150px; height: 50px;"></div><br clear="all" /><script type='text/javascript'>
  (function() {
      var s     = document.getElementsByTagName('script')[0],
          rdb   = document.createElement('script');
      rdb.type  = 'text/javascript';
      rdb.async = true;
      rdb.src   = document.location.protocol + '//www.readability.com/embed.js';
      s.parentNode.insertBefore(rdb, s);
  })();
  </script-->
  
  <div class="entry-content">
    <p><a href="http://www.sencha.com/products/touch/">SenchaTouch</a> is web development framework for building native-looking mobile apps (iOS &amp; Android) using standards-based web technologies such as HTML5 &amp; CSS3. The Sencha website features <a href="http://www.sencha.com/products/touch/demos.php">several very impressive demos</a>. However, the framework is still in beta and many useful features are either incomplete or missing entirely.</p>

<p>One common interaction in iPhone applications is multi-level navigation which places a back button in the toolbar and allows the user to drill down into the data. In a native app, the <tt>UINavigationController</tt> class manages this hierarchy of views and asks the currently selected view information about itself for display. For example, the current view may have a <tt>navigationTitle</tt> of "Tier 1" and its child view may have a <tt>navigationTitle</tt> of "Tier 2." UINavigationViewController will inspect these views and make sure the correct title is visible in the navigation bar according to the currently selected view. See the diagram below:</p>

<p><img src="http://files.posterous.com/temp-2010-07-02/bwAhfIJeckcGGuGdeEtylgJJanitascAdxyEdziptsBpmmaDGschrlzbyrIx/navigation_interface.jpg?AWSAccessKeyId=1C9REJR1EMRZ83Q7QRG2&amp;Expires=1280251911&amp;Signature=6PnQ/gmFo0jFitRh9D2S3Y2BOZc%3D"></p>

<p>SenchaTouch has something similar with the NestedList class which shows a hierarchy of <tt>Ext.List</tt> panels. However, it would be nice to have something much more generic that allows any type of panel to be placed in the hierarchy. Below this post is the source code for <tt>PanelStack</tt> which functions much like <tt>UINavigationController</tt>. Each panel in the stack can push more panels beneath it or pop itself off the stack (identical to pressing the back button). Additionally, each panel is has an animation property which is run on push and reversed on pop making interactions such as flipping a card over to see its back and then returning to the front very easy to accomplish.</p>

<h2>How to use PanelStack</h2>

<pre class="CodeRay"><span class="kw">var</span> bottomLevel = <span class="kw">new</span> Ext.Panel({ <span class="ke">title</span>: <span class="s"><span class="dl">"</span><span class="k">Start page</span><span class="dl">"</span></span> });
<span class="kw">var</span> firstLevel  = <span class="kw">new</span> Ext.Panel({ <span class="ke">title</span>: <span class="s"><span class="dl">"</span><span class="k">Tier 1</span><span class="dl">"</span></span> });
<span class="kw">var</span> secondLevel = <span class="kw">new</span> Ext.Panel({ <span class="ke">title</span>: <span class="s"><span class="dl">"</span><span class="k">Tier 2</span><span class="dl">"</span></span> });

<span class="kw">var</span> controller  = <span class="kw">new</span> PanelStack({ <span class="ke">items</span>: [bottomLevel] });
<span class="c">// Showing the bottomLevel, a title of "Start page" and no back button</span>

controller.pushPanel(firstLevel);
<span class="c">// Showing the firstLevel, a title of "Tier 1" and a "back" button</span>

controller.pushPanel(secondLevel);
<span class="c">// Showing the secondLevel, a title of "Tier 2" and a "back" button</span>

controller.popPanel();
<span class="c">// Showing the firstLevel, a title of "Tier 1" and a "back" button</span>

<span class="c">// Manually tapping the "back" button</span>
<span class="c">// Showing the bottomLevel, a title of "Start page" and no back button</span>
</pre>

<h2>The current code for the class is below.</h2>

<script src="http://gist.github.com/461744.js"></script>
</div>
</article><div id="comments">
  <div class="block">
    <h2>Comments</h2>

    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style ">
      <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
      <a class="addthis_button_tweet"></a>
    </div>
    <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#username=xa-4d1d09583a6522e4"></script><!-- AddThis Button END -->
</div>
  
  
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'awf';

      // var disqus_identifier = 'unique_dynamic_id_1234';
      var disqus_url = 'http://example.org/2010/07/02/uinavigationcontroller-implementation-for-senchatouch.html';

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
</div>

        
      </div>
      <aside id="previously"><p>My name is Thomas Reynolds. I'm a developer at <a href="http://metalabdesign.com">Metalab</a>, lucky denizen of Portland, active Crossfitter, a foodie, a cocktail enthusiast and all-around nerd.</p>
        
        <h2>
          Projects
          <a href="http://github.com/tdreyno">GitHub</a>
        </h2>
        <ol>
<li><a href="https://github.com/tdreyno/middleman">Middleman</a></li>
          <li><a href="https://github.com/tdreyno/iphone-style-checkboxes">iPhone-style Checkboxes</a></li>
          <li><a href="http://secondstory.github.com/secondstoryjs-statemachine/">State Machine for JavascriptMVC</a></li>
          <li><a href="http://secondstory.github.com/secondstoryjs-router/">Router for JavascriptMVC</a></li>
          <li><a href="https://github.com/tdreyno/mustache-javascriptmvc">Mustache templates for JavascriptMVC</a></li>
          <li><a href="http://secondstory.github.com/jqueryChop/">jQuery Image Chop</a></li>
          <li><a href="https://github.com/tdreyno/javascriptmvc-pure">Pure templates for JavascriptMVC</a></li>
          <li><a href="https://github.com/tdreyno/compass-slickmap">Slickmap for Compass</a></li>
          <li><a href="https://github.com/tdreyno/compass-baseline">Baseline for Compass</a></li>
        </ol>
<h2>
          Recent Articles
          <a href="/archives">Archive</a>
        </h2>
        <ol>
<li>
<a href="/2011/05/13/coffeescript-specific-style-guide.html">CoffeeScript-specific Style Guide</a> <span>May 13</span>
</li>
          
            <li>
<a href="/2011/05/09/javascript-microframeworks-and-the-future.html">Javascript Microframeworks and The Future</a> <span>May  9</span>
</li>
          
            <li>
<a href="/2011/05/06/trigger-css3-animations-with-jquery.html">Trigger CSS3 Animations with jQuery</a> <span>May  6</span>
</li>
          
            <li>
<a href="/2011/05/03/jquerydeferred-image-preloader.html">jQuery.Deferred Image Preloader</a> <span>May  3</span>
</li>
          
            <li>
<a href="/2011/04/26/just-launched-pixelunion-v2.html">Just Launched: PixelUnion v2</a> <span>Apr 26</span>
</li>
          
            <li>
<a href="/2011/04/26/just-give-a-damn-about-something.html">Just Give a Damn About Something</a> <span>Apr 26</span>
</li>
          
            <li>
<a href="/2011/04/24/crossfit-is-for-nerds.html">CrossFit is for Nerds</a> <span>Apr 24</span>
</li>
          
            <li>
<a href="/2011/04/23/branching-out-opening-up-and-publishing-more.html">Branching Out, Opening Up and Publishing More</a> <span>Apr 23</span>
</li>
          
            <li>
<a href="/2011/04/15/middleman-v11.html">Middleman v1.1</a> <span>Apr 15</span>
</li>
          
            <li>
<a href="/2011/04/13/adjustable-animations-with-sliders.html">Adjustable Animations with Sliders</a> <span>Apr 13</span>
</li>
          
        
      </ol></aside>
</div>
    
    <script type="text/javascript">
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4d770721192b0c4ab6000002');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script><!-- Google Analytics --><script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-90027-9']);
      _gaq.push(['_trackPageview']);
      _gaq.push(['_trackPageLoadTime']);

      (function() {
      var ga = document.createElement('script');
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 
        'http://www') + '.google-analytics.com/ga.js';
      ga.setAttribute('async', 'true');
      document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
</body>
</html>
